# 🔐 JWT (JSON Web Token)

---

## 💡 개념 정리

JWT는 로그인 후 사용자를 인증하기 위한 **토큰 기반 인증 방식**  
서버가 토큰을 발급하고, 클라이언트는 요청마다 이 토큰을 헤더에 넣어 보냄  
서버는 **서명(Signature)** 을 검증해서 유효한 사용자인지 확인  
세션처럼 상태를 저장하지 않아 **Stateless** 구조라 확장성이 좋음

---

## 🍪 쿠키 / 세션 / JWT 비교

| 구분 | 쿠키 | 세션 | JWT |
|------|------|------|------|
| 저장 위치 | 브라우저 | 서버 | 클라이언트 |
| 상태 유지 | 서버 필요 | 서버 필요 | 불필요 |
| 장점 | 간단 | 안정적 | 확장성 좋음 |
| 단점 | 보안 취약 | 서버 부하 | 탈취 위험 |

핵심은 JWT는 서버가 사용자 상태를 저장하지 않는다는 점  
서버는 토큰의 유효성만 확인하면 됨

---

## 🧾 구조

JWT는 `Header.Payload.Signature` 세 부분으로 구성됨

- **Header** : 서명 알고리즘, 토큰 타입  
- **Payload** : 사용자 정보, 만료 시간 등 (민감한 정보 넣으면 안 됨)  
- **Signature** : 비밀키로 서명된 값, 위변조 방지 역할  

> Header와 Payload는 단순 인코딩(Base64)  
> Signature로만 위변조 여부 검증 가능

---

## ⚙️ 동작 흐름

1. 클라이언트가 로그인 요청  
2. 서버가 사용자 정보 확인 후 JWT 발급  
3. 클라이언트는 토큰을 저장하고 요청 시 헤더에 포함  
4. 서버는 토큰의 Signature를 검증해 인증 판단  

---

## 🔑 Access / Refresh Token

- **Access Token** : 실제 인증에 사용, 수명 짧음  
- **Refresh Token** : Access 만료 시 재발급용, 수명 김  

Access는 짧게 두고  
Refresh로 새 토큰을 받는 구조로 보안 강화

---

## ✅ 장단점 요약

**장점**  
- 서버에 상태 저장 불필요  
- 확장성 좋음  
- 여러 플랫폼에서 사용 가능  

**단점**  
- 탈취 시 위험  
- Payload 노출 가능  
- 만료 및 로그아웃 처리 복잡  

---

## ✍️ 내가 이해한 점

JWT는 세션보다 단순한 구조가 아니라  
서버 부담을 줄이고 확장성을 높이기 위한 설계임  
서버는 사용자 상태를 기억하지 않아도 되지만  
그만큼 토큰 관리와 보안을 잘 설계해야 함  

Access / Refresh 구조를 함께 사용하면  
짧은 인증 주기와 안전한 재발급의 균형을 맞출 수 있음  
결국 JWT는 **무상태 인증의 대표적인 방식**이라고 이해함

---
